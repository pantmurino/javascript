<html>
<head>Exception in constructor example</head>
<body>
    <script>
        var jsonPromise = new Promise(function(resolve, reject) {
            // JSON.parse throws an exception if you feed it some
            // invalid JSON, so this implicitly rejects:
            resolve(JSON.parse("This ain't JSON"));
        });

        /*
        jsonPromise.then(function(data) {
            // This never happens:
            console.log("It worked!", data);
        }).catch(function(err) {
            // Instead, this happens:
            console.log("It's failed!", err);
        });
        */

        // same as above but with err function (not catch)
        jsonPromise.then(function(data) {
            // This never happens:
            console.log("It workde!", data);
        }, function(err) {
            // But does it work instead?
            console.log("It's failed!", err);
        });
    </script>
</body>
</html>
